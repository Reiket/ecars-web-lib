{"version":3,"file":"Dropdown.test.js","sources":["../../../lib/components/Dropdown/Dropdown.test.tsx"],"sourcesContent":["import {fireEvent, render, screen} from '@testing-library/react';\nimport {dropdownOptionsMock} from '@/services/mocks';\nimport {Dropdown, DROPDOWN_TEST_ID} from '@/components/Dropdown/constants';\n\nconst defaultProps = {\n  options: dropdownOptionsMock,\n  onSelect: jest.fn(),\n  handleOpen: jest.fn(),\n  isOpen: false,\n  onClickOutside: jest.fn(),\n  category: '1',\n};\n\ndescribe('Dropdown Component', () => {\n  test('renders the dropdown component correctly', () => {\n    const {container} = render(<Dropdown {...defaultProps} />);\n    const dropdownElement = screen.getByTestId(DROPDOWN_TEST_ID);\n    expect(dropdownElement).toBeInTheDocument();\n    expect(container).toMatchSnapshot();\n  });\n  test('calls handleOpen when block is clicked', () => {\n    const {container} = render(\n      <Dropdown\n        {...defaultProps}\n        isOpen\n      />,\n    );\n    const dropdownElement = screen.getByTestId(DROPDOWN_TEST_ID);\n    const block = dropdownElement.querySelector('.dropdown-menu__category');\n    if (block) {\n      fireEvent.click(block);\n    }\n    expect(dropdownElement).toHaveClass('_dropdown-active');\n    expect(defaultProps.handleOpen).toHaveBeenCalled();\n    expect(container).toMatchSnapshot();\n  });\n  test('closes list on outside click', () => {\n    render(<Dropdown {...defaultProps} />);\n    fireEvent.mouseDown(document);\n    expect(defaultProps.onClickOutside).toHaveBeenCalled();\n  });\n  test('highlights the selected option correctly', () => {\n    const selectedCategory = dropdownOptionsMock[0].value;\n    const {container} = render(\n      <Dropdown\n        {...defaultProps}\n        category={selectedCategory}\n        isOpen\n      />,\n    );\n    const dropdownElement = screen.getByTestId(DROPDOWN_TEST_ID);\n    const dropdownOptions = Array.from(dropdownElement.querySelectorAll('.dropdown-menu__option'));\n    const activeOption = dropdownOptions.find((option) => option.classList.contains('_selected-option'));\n    expect(activeOption).toBeInTheDocument();\n    expect(container).toMatchSnapshot();\n  });\n  test('calls onSelect when an option is clicked', () => {\n    render(\n      <Dropdown\n        {...defaultProps}\n        isOpen\n      />,\n    );\n    const dropdownElement = screen.getByTestId(DROPDOWN_TEST_ID);\n    const options = Array.from(dropdownElement.querySelectorAll('.dropdown-menu__option'));\n    const mockOptionValue = dropdownOptionsMock[0].value;\n    const mockOption = options[0];\n    fireEvent.click(mockOption);\n    expect(defaultProps.onSelect).toHaveBeenCalledWith(mockOptionValue);\n  });\n});\n"],"names":["defaultProps","dropdownOptionsMock","container","render","Dropdown","dropdownElement","screen","DROPDOWN_TEST_ID","jsx","block","fireEvent","selectedCategory","activeOption","option","options","mockOptionValue","mockOption"],"mappings":";;;;AAIA,MAAMA,IAAe;AAAA,EACnB,SAASC;AAAA,EACT,UAAU,KAAK,GAAG;AAAA,EAClB,YAAY,KAAK,GAAG;AAAA,EACpB,QAAQ;AAAA,EACR,gBAAgB,KAAK,GAAG;AAAA,EACxB,UAAU;AACZ;AAEA,SAAS,sBAAsB,MAAM;AACnC,OAAK,4CAA4C,MAAM;AAC/C,UAAA,EAAC,WAAAC,EAAa,IAAAC,oBAAQC,GAAU,EAAA,GAAGJ,GAAc,CAAE,GACnDK,IAAkBC,EAAO,YAAYC,CAAgB;AACpD,WAAAF,CAAe,EAAE,kBAAkB,GACnC,OAAAH,CAAS,EAAE,gBAAgB;AAAA,EAAA,CACnC,GACD,KAAK,0CAA0C,MAAM;AAC7C,UAAA,EAAC,WAAAA,MAAaC;AAAA,MAClB,gBAAAK;AAAA,QAACJ;AAAA,QAAA;AAAA,UACE,GAAGJ;AAAA,UACJ,QAAM;AAAA,QAAA;AAAA,MAAA;AAAA,IAEV,GACMK,IAAkBC,EAAO,YAAYC,CAAgB,GACrDE,IAAQJ,EAAgB,cAAc,0BAA0B;AACtE,IAAII,KACFC,EAAU,MAAMD,CAAK,GAEhB,OAAAJ,CAAe,EAAE,YAAY,kBAAkB,GAC/C,OAAAL,EAAa,UAAU,EAAE,iBAAiB,GAC1C,OAAAE,CAAS,EAAE,gBAAgB;AAAA,EAAA,CACnC,GACD,KAAK,gCAAgC,MAAM;AACzC,IAAAC,EAAQ,gBAAAK,EAAAJ,GAAA,EAAU,GAAGJ,EAAc,CAAA,CAAE,GACrCU,EAAU,UAAU,QAAQ,GACrB,OAAAV,EAAa,cAAc,EAAE,iBAAiB;AAAA,EAAA,CACtD,GACD,KAAK,4CAA4C,MAAM;AAC/C,UAAAW,IAAmBV,EAAoB,CAAC,EAAE,OAC1C,EAAC,WAAAC,MAAaC;AAAA,MAClB,gBAAAK;AAAA,QAACJ;AAAA,QAAA;AAAA,UACE,GAAGJ;AAAA,UACJ,UAAUW;AAAA,UACV,QAAM;AAAA,QAAA;AAAA,MAAA;AAAA,IAEV,GACMN,IAAkBC,EAAO,YAAYC,CAAgB,GAErDK,IADkB,MAAM,KAAKP,EAAgB,iBAAiB,wBAAwB,CAAC,EACxD,KAAK,CAACQ,MAAWA,EAAO,UAAU,SAAS,kBAAkB,CAAC;AAC5F,WAAAD,CAAY,EAAE,kBAAkB,GAChC,OAAAV,CAAS,EAAE,gBAAgB;AAAA,EAAA,CACnC,GACD,KAAK,4CAA4C,MAAM;AACrD,IAAAC;AAAA,MACE,gBAAAK;AAAA,QAACJ;AAAA,QAAA;AAAA,UACE,GAAGJ;AAAA,UACJ,QAAM;AAAA,QAAA;AAAA,MAAA;AAAA,IAEV;AACM,UAAAK,IAAkBC,EAAO,YAAYC,CAAgB,GACrDO,IAAU,MAAM,KAAKT,EAAgB,iBAAiB,wBAAwB,CAAC,GAC/EU,IAAkBd,EAAoB,CAAC,EAAE,OACzCe,IAAaF,EAAQ,CAAC;AAC5B,IAAAJ,EAAU,MAAMM,CAAU,GAC1B,OAAOhB,EAAa,QAAQ,EAAE,qBAAqBe,CAAe;AAAA,EAAA,CACnE;AACH,CAAC;"}