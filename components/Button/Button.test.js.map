{"version":3,"file":"Button.test.js","sources":["../../../lib/components/Button/Button.test.tsx"],"sourcesContent":["import {cleanup, fireEvent, render, screen} from '@testing-library/react';\r\nimport {BUTTON_COLOR, BUTTON_SIZE, BUTTON_TEST_ID, ButtonAttributesType} from '@/components/Button/constants';\r\nimport {Button} from '@/components/Button/Button';\r\n\r\ndescribe('Button component', () => {\r\n  afterEach(cleanup);\r\n\r\n  const colors = Object.values(BUTTON_COLOR);\r\n  const sizes = Object.values(BUTTON_SIZE);\r\n  const types: ButtonAttributesType[] = ['submit', 'reset', 'button'];\r\n  const props = {\r\n    color: BUTTON_COLOR.GRAY,\r\n    size: BUTTON_SIZE.BIG,\r\n  };\r\n  const disabledOptions = [true, false];\r\n  colors.forEach((color) => {\r\n    sizes.forEach((size) => {\r\n      types.forEach((type) => {\r\n        disabledOptions.forEach((disabled) => {\r\n          const testName = `renders button with color ${color}, size ${size}, type ${type || 'button'} and disabled`;\r\n          test(testName, () => {\r\n            const {container} = render(\r\n              <Button\r\n                color={color}\r\n                size={size}\r\n                type={type}\r\n                disabled={disabled}\r\n              >\r\n                button\r\n              </Button>,\r\n            );\r\n            const buttonElement = screen.getByTestId(BUTTON_TEST_ID) as HTMLButtonElement;\r\n            expect(buttonElement).toBeInTheDocument();\r\n            expect(buttonElement).toHaveClass(`button--${color}`);\r\n            expect(buttonElement).toHaveClass(`button--${size}`);\r\n            expect(buttonElement.disabled).toBe(disabled);\r\n            expect(buttonElement).toHaveStyle('cursor: default');\r\n            expect(container).toMatchSnapshot();\r\n          });\r\n        });\r\n      });\r\n    });\r\n  });\r\n  test('changes button text according to the children text', () => {\r\n    const {container, getByText, rerender} = render(<Button {...props}>button</Button>);\r\n    let button = getByText('button');\r\n    expect(button).toBeInTheDocument();\r\n\r\n    rerender(<Button {...props}>Confirm</Button>);\r\n    button = getByText('Confirm');\r\n    expect(button).toBeInTheDocument();\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('handles the click event', () => {\r\n    const onClick = jest.fn();\r\n    const {container, getByText} = render(\r\n      <Button\r\n        {...props}\r\n        onClick={() => onClick()}\r\n      >\r\n        button\r\n      </Button>,\r\n    );\r\n    fireEvent.click(getByText('button'));\r\n    expect(onClick).toHaveBeenCalledTimes(1);\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('the onClick event does not fire when button is disabled', () => {\r\n    const onClick = jest.fn();\r\n    const {container, getByText} = render(\r\n      <Button\r\n        {...props}\r\n        disabled\r\n        onClick={onClick}\r\n      >\r\n        button\r\n      </Button>,\r\n    );\r\n    const button = getByText('button');\r\n    fireEvent.click(button);\r\n    expect(onClick).not.toHaveBeenCalled();\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n\r\n  test('additional classes are not applied if the button is disabled', () => {\r\n    const {container, getByText} = render(\r\n      <Button\r\n        {...props}\r\n        disabled\r\n      >\r\n        button\r\n      </Button>,\r\n    );\r\n    const button = getByText('button');\r\n    expect(button).toHaveClass('button');\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n  test('button has button-transparent if receive prop isTransparent', () => {\r\n    const {container} = render(\r\n      <Button\r\n        {...props}\r\n        isTransparent\r\n      >\r\n        button\r\n      </Button>,\r\n    );\r\n    const button = screen.getByTestId(BUTTON_TEST_ID);\r\n    expect(button).toHaveClass('button--transparent');\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n  test('button has button-icon if receive prop withIcon', () => {\r\n    const {container} = render(\r\n      <Button\r\n        {...props}\r\n        withIcon\r\n      >\r\n        button\r\n      </Button>,\r\n    );\r\n    const button = screen.getByTestId(BUTTON_TEST_ID);\r\n    expect(button).toHaveClass('button--icon');\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n});\r\n"],"names":["describe","afterEach","cleanup","colors","Object","values","BUTTON_COLOR","sizes","BUTTON_SIZE","types","props","color","GRAY","size","BIG","disabledOptions","forEach","type","disabled","test","container","render","jsx","Button","children","buttonElement","screen","getByTestId","BUTTON_TEST_ID","expect","toBeInTheDocument","toHaveClass","toBe","toHaveStyle","toMatchSnapshot","getByText","rerender","button","onClick","jest","fn","fireEvent","click","toHaveBeenCalledTimes","not","toHaveBeenCalled","isTransparent","withIcon"],"mappings":"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"}