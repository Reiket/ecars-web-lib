{"version":3,"file":"FavButton.test.js","sources":["../../../lib/components/FavButton/FavButton.test.tsx"],"sourcesContent":["import {cleanup, fireEvent, render, screen} from '@testing-library/react';\r\nimport {FAV_BUTTON_TEST_ID, FAV_BUTTON_TYPE} from '@/components/FavButton/constants';\r\nimport {FavButton} from '@/components/FavButton/FavButton';\r\n\r\ndescribe('Fav Button component', () => {\r\n  afterEach(cleanup);\r\n  const types = Object.values(FAV_BUTTON_TYPE);\r\n  const disabledOptions = [true, false];\r\n  types.forEach((type) => {\r\n    disabledOptions.forEach((disabled) => {\r\n      const testName = `renders button with type ${type} and disabled`;\r\n      test(testName, () => {\r\n        const {container} = render(\r\n          <FavButton\r\n            type={type}\r\n            disabled={disabled}\r\n          />,\r\n        );\r\n        const favButtonElement = screen.getByTestId(FAV_BUTTON_TEST_ID) as HTMLButtonElement;\r\n        expect(favButtonElement).toBeInTheDocument();\r\n        expect(favButtonElement).toHaveClass(`favorite-button--${type}`);\r\n        expect(favButtonElement.disabled).toBe(disabled);\r\n        expect(favButtonElement).toHaveStyle('cursor: default');\r\n        expect(container).toMatchSnapshot();\r\n      });\r\n    });\r\n  });\r\n  test('handles the click event', () => {\r\n    const onClick = jest.fn();\r\n    const {container} = render(\r\n      <FavButton\r\n        type=\"circle\"\r\n        onClick={() => onClick()}\r\n      />,\r\n    );\r\n    fireEvent.click(screen.getByTestId(FAV_BUTTON_TEST_ID));\r\n    expect(onClick).toHaveBeenCalledTimes(1);\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n  test('the onClick event does not fire when button is disabled', () => {\r\n    const onClick = jest.fn();\r\n    const {container} = render(\r\n      <FavButton\r\n        type=\"circle\"\r\n        disabled\r\n        onClick={onClick}\r\n      />,\r\n    );\r\n    fireEvent.click(screen.getByTestId(FAV_BUTTON_TEST_ID));\r\n    expect(onClick).not.toHaveBeenCalled();\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n  test('the active state when has prop isFavorite', () => {\r\n    const onClick = jest.fn();\r\n    const {container} = render(\r\n      <FavButton\r\n        type=\"circle\"\r\n        isFavorite\r\n        disabled\r\n        onClick={onClick}\r\n      />,\r\n    );\r\n    expect(screen.getByTestId(FAV_BUTTON_TEST_ID)).toHaveClass('active');\r\n    expect(container).toMatchSnapshot();\r\n  });\r\n  test('renders correct icon based on isFavorite prop', () => {\r\n    const {rerender} = render(\r\n      <FavButton\r\n        type=\"circle\"\r\n        isFavorite\r\n      />,\r\n    );\r\n    expect(screen.getByTestId(FAV_BUTTON_TEST_ID)).toContainHTML('<svg');\r\n\r\n    rerender(\r\n      <FavButton\r\n        type=\"circle\"\r\n        isFavorite={false}\r\n      />,\r\n    );\r\n    expect(screen.getByTestId(FAV_BUTTON_TEST_ID)).toContainHTML('<svg');\r\n  });\r\n});\r\n"],"names":["describe","afterEach","cleanup","types","Object","values","FAV_BUTTON_TYPE","disabledOptions","forEach","type","disabled","test","container","render","jsx","FavButton","favButtonElement","screen","getByTestId","FAV_BUTTON_TEST_ID","expect","toBeInTheDocument","toHaveClass","toBe","toHaveStyle","toMatchSnapshot","onClick","jest","fn","fireEvent","click","toHaveBeenCalledTimes","not","toHaveBeenCalled","isFavorite","rerender","toContainHTML"],"mappings":";;;;AAIAA,SAAS,wBAAwB;AAC/BC,YAAUC,CAAAA;AACJ,QAAAC,IAAQC,OAAOC,OAAOC,CAAAA,GACtBC,IAAkB,CAAA,MAClBJ;AAAAA,EAAAA,EAAAK,QAASC,CAAAA,MACGF;AAAAA,IAAAA,EAAAC,QAASE,CAAAA,MAEvBC;AAAAA,WADiB,4BAA4BF,CAC9B,iBAAA,MAAA;AACP,gBAAAG,WAACA,EAAAA,IAAaC,EAClBC,EAACC,GAAA,EACCN,MACAC,GAAAA,UAAAA,EAAAA,CAAAA,CAAAA,GAGEM,IAAmBC,EAAOC,YAAYC,CAAAA;AACrCC,eAAAJ,CAAkBK,EAAAA,kBAAAA,GACzBD,OAAOJ,CAAkBM,EAAAA,YAAY,oBAAoBb,CACzDW,EAAAA,GAAAA,OAAOJ,EAAiBN,QAAUa,EAAAA,KAAKb,IAChCU,OAAAJ,CAAAA,EAAkBQ,YAAY,iBAC9BJ,GAAAA,OAAAR,GAAWa,gBAAgB;AAAA,MAAA,CAAA;AAAA,IACnC,CACF;AAAA,EAAA,CAAA,GAEHd,KAAK,2BAA2B;AACxB,UAAAe,IAAUC,KAAKC,GACfhB,GAAAA,EAAAA,WAACA,MAAaC,EAClBC,EAACC,GAAA,EACCN,MAAK,UACLiB,SAAS,MAAMA;AAGnBG,IAAAA,EAAUC,MAAMb,EAAOC,YAAYC,CAAAA,CAAAA,GAC5BC,OAAAM,CAAAA,EAASK,sBAAsB,CAAA,GAC/BX,OAAAR,CAAWa,EAAAA,gBAAAA;AAAAA,EAAgB,IAEpCd,KAAK,2DAA2D;AACxD,UAAAe,IAAUC,KAAKC,GACfhB,GAAAA,EAAAA,WAACA,MAAaC,EAClBC,EAACC,GAAA,EACCN,MAAK,UACLC,UAAQ,IACRgB,SAGJG,EAAAA,CAAAA,CAAAA;AAAAA,IAAAA,EAAUC,MAAMb,EAAOC,YAAYC,CAC5BC,CAAAA,GAAAA,OAAAM,GAASM,IAAIC,iBAAAA,GACbb,OAAAR,CAAWa,EAAAA,gBAAAA;AAAAA,EAAgB,IAEpCd,KAAK,6CAA6C;AAC1C,UAAAe,IAAUC,KAAKC,GACfhB,GAAAA,EAAAA,WAACA,MAAaC,EAClBC,EAACC,GAAA,EACCN,MAAK,UACLyB,gBACAxB,UAAAA,IACAgB,SAGJN,EAAAA,CAAAA,CAAAA;AAAAA,WAAOH,EAAOC,YAAYC,CAAAA,CAAAA,EAAqBG,YAAY,QACpDF,GAAAA,OAAAR,GAAWa,gBAAgB;AAAA,EAAA,CAAA,GAEpCd,KAAK,iDAAiD,MAAA;AAC9C,YAAAwB,UAACA,EAAAA,IAAYtB,EACjBC,EAACC,GAAA,EACCN,MAAK,UACLyB,YAAAA;AAGJd,WAAOH,EAAOC,YAAYC,CAAqBiB,CAAAA,EAAAA,cAAc,MAE7DD,GAAAA,EACErB,EAACC,GAAA,EACCN,MAAK,UACLyB,eAGJd,CAAAA,CAAAA,GAAAA,OAAOH,EAAOC,YAAYC,CAAAA,CAAAA,EAAqBiB,cAAc,MAAA;AAAA,EAAM,CACpE;AAAA,CAAA;"}