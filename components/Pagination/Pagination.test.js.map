{"version":3,"file":"Pagination.test.js","sources":["../../../lib/components/Pagination/Pagination.test.tsx"],"sourcesContent":["import React from 'react';\nimport {fireEvent, render, screen} from '@testing-library/react';\nimport {\n  Pagination,\n  PAGINATION_ARROW_LEFT_TEST_ID,\n  PAGINATION_ARROW_RIGHT_TEST_ID,\n  PAGINATION_TEST_ID,\n} from '@/components/Pagination/constants';\n\nconst props = {\n  pages: [1, 2, 3],\n  currentPage: 1,\n  onPageClick: jest.fn(),\n  onNextClick: jest.fn(),\n  onPrevClick: jest.fn(),\n};\n\ndescribe('Pagination component', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  test('renders component with all page buttons and arrows', () => {\n    const {container} = render(<Pagination {...props} />);\n\n    const paginationElement = screen.getByTestId(PAGINATION_TEST_ID);\n    const leftArrowElement = screen.getByTestId(PAGINATION_ARROW_LEFT_TEST_ID);\n    const rightArrowElement = screen.getByTestId(PAGINATION_ARROW_RIGHT_TEST_ID);\n    expect(paginationElement).toBeInTheDocument();\n    expect(leftArrowElement).toBeInTheDocument();\n    expect(rightArrowElement).toBeInTheDocument();\n    props.pages.forEach((page) => {\n      expect(screen.getByText(String(page))).toBeInTheDocument();\n    });\n    expect(container).toMatchSnapshot();\n  });\n\n  test('disables prev arrow on first page', () => {\n    const firstPage = props.pages.at(0) ?? 0;\n    const lastPage = props.pages.at(-1) ?? 0;\n    const {container, rerender} = render(\n      <Pagination\n        {...props}\n        currentPage={firstPage}\n      />,\n    );\n\n    const leftArrowElement = screen.getByTestId(PAGINATION_ARROW_LEFT_TEST_ID).parentElement;\n    const rightArrowElement = screen.getByTestId(PAGINATION_ARROW_RIGHT_TEST_ID).parentElement;\n\n    expect(leftArrowElement).toBeDisabled();\n\n    rerender(\n      <Pagination\n        {...props}\n        currentPage={lastPage}\n      />,\n    );\n\n    expect(rightArrowElement).toBeDisabled();\n    expect(container).toMatchSnapshot();\n  });\n\n  test('calls onPageClick when page button is clicked', () => {\n    render(\n      <Pagination\n        {...props}\n        currentPage={2}\n      />,\n    );\n\n    fireEvent.click(screen.getByText('2'));\n    expect(props.onPageClick).toHaveBeenCalledWith(2);\n  });\n  test('marks the current page as selected', () => {\n    render(<Pagination {...props} />);\n\n    expect(screen.getByText('1')).toHaveClass('_current-page');\n  });\n  test('calls onPrevClick and onNextClick', () => {\n    render(\n      <Pagination\n        {...props}\n        currentPage={2}\n      />,\n    );\n\n    const leftArrowElement = screen.getByTestId(PAGINATION_ARROW_LEFT_TEST_ID).parentElement;\n    const rightArrowElement = screen.getByTestId(PAGINATION_ARROW_RIGHT_TEST_ID).parentElement;\n\n    if (leftArrowElement) {\n      fireEvent.click(leftArrowElement);\n      expect(props.onPrevClick).toHaveBeenCalled();\n    }\n\n    if (rightArrowElement) {\n      fireEvent.click(rightArrowElement);\n      expect(props.onNextClick).toHaveBeenCalled();\n    }\n  });\n  test('disables all buttons and arrows when loading', () => {\n    render(\n      <Pagination\n        {...props}\n        isLoading\n      />,\n    );\n\n    const leftArrow = screen.getByTestId(PAGINATION_ARROW_LEFT_TEST_ID).parentElement;\n    const rightArrow = screen.getByTestId(PAGINATION_ARROW_RIGHT_TEST_ID).parentElement;\n    expect(leftArrow).toBeDisabled();\n    expect(rightArrow).toBeDisabled();\n\n    props.pages.forEach((page) => {\n      expect(screen.getByText(String(page))).toBeDisabled();\n    });\n\n    fireEvent.click(screen.getByText('1'));\n    if (leftArrow) {\n      fireEvent.click(leftArrow);\n    }\n    if (rightArrow) {\n      fireEvent.click(rightArrow);\n    }\n    expect(props.onPageClick).not.toHaveBeenCalled();\n    expect(props.onPrevClick).not.toHaveBeenCalled();\n    expect(props.onNextClick).not.toHaveBeenCalled();\n  });\n});\n"],"names":["props","container","render","Pagination","paginationElement","screen","PAGINATION_TEST_ID","leftArrowElement","PAGINATION_ARROW_LEFT_TEST_ID","rightArrowElement","PAGINATION_ARROW_RIGHT_TEST_ID","page","firstPage","lastPage","rerender","jsx","fireEvent","leftArrow","rightArrow"],"mappings":"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"}